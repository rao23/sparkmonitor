/* Jupyter Lab Specific CSS */

@import url('./styles.css');
@import url('./jobtable.css');
@import url('./taskdetails.css');
@import url('./timeline.css');

/* Default light mode values for JupyterLab */
:root {
  --sparkmonitor-bg-primary: #FFFFFF;
  --sparkmonitor-bg-secondary: #F0F4F9;
  --sparkmonitor-bg-tertiary: #DDE3EA;
  --sparkmonitor-bg-quaternary: #FAFAFA;
  --sparkmonitor-title-bg: #E9EEF6;
}

.spark-monitor-cell-widget {
  margin-left: calc(
    var(--jp-cell-collapser-width) + var(--jp-cell-prompt-width)
  );
  /* Ensure the widget appears first in execution order */
  order: -10;
  /* Add some spacing */
  margin-top: 4px;
  margin-bottom: 4px;
}

/* New container styling for DOM-based insertion */
.spark-monitor-container {
  display: block;
  width: 100%;
  margin-left: calc(
    var(--jp-cell-collapser-width) + var(--jp-cell-prompt-width)
  );
  /* Ensure it appears first in execution order */
  order: -10;
}

/* Ensure proper spacing between spark monitor and output */
.spark-monitor-cell-widget + .jp-Cell-outputWrapper,
.spark-monitor-container + .jp-Cell-outputWrapper {
  margin-top: 5px;
}

/* Ensure input wrapper has proper order */
.jp-Cell-inputWrapper {
  order: -20;
}

/* Ensure output wrapper appears after spark monitor */
.jp-Cell-outputWrapper {
  order: 1;
}

/* Force flex display on code cells to respect ordering */
.jp-CodeCell {
  display: flex;
  flex-direction: column;
}

/* JupyterLab specific dark theme detection using CSS custom properties */
[data-jp-theme-light="false"],
.jp-Cell[data-jp-theme-light="false"],
.jp-Notebook[data-jp-theme-light="false"] {
  --sparkmonitor-bg-primary: #000000; /* #FFFFFF becomes #000000 */
  --sparkmonitor-bg-secondary: #444746; /* #F0F4F9 becomes #444746 */
  --sparkmonitor-bg-tertiary: #303030; /* #DDE3EA becomes #303030 */
  --sparkmonitor-bg-quaternary: #303030; /* #FAFAFA becomes #303030 */
  --sparkmonitor-title-bg: #747775; /* Title bar becomes #747775 */
}